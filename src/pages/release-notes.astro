---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import releases from '../data/release-notes.json';
---
<Layout title="Release Notes — SAWE Southeast">
  <Navbar />

  <section id="release-notes" style="padding-top:120px; padding-bottom:60px;">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading">Release Notes</h2>
          <h3 class="section-subheading text-muted">Site updates and changelog</h3>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="accordion" id="accordionReleases">
            {releases.map((release, i) => (
              <div class="accordion-item">
                <h2 class="accordion-header" id={`heading-${i}`}>
                  <button
                    class={`accordion-button${release.expanded ? '' : ' collapsed'}`}
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target={`#collapse-${i}`}
                    aria-expanded={release.expanded ? 'true' : 'false'}
                    aria-controls={`collapse-${i}`}
                  >
                    <strong>{release.version}</strong>&nbsp;—&nbsp;{release.title}
                    <span class="text-muted ms-auto" style="font-size:0.85rem;">{release.date}</span>
                  </button>
                </h2>
                <div
                  id={`collapse-${i}`}
                  class={`accordion-collapse collapse${release.expanded ? ' show' : ''}`}
                  aria-labelledby={`heading-${i}`}
                  data-bs-parent="#accordionReleases"
                >
                  <div class="accordion-body">
                    <ul>
                      {release.changes.map(change => (
                        <li>{change}</li>
                      ))}
                    </ul>
                  </div>
                </div>
              </div>
            ))}
          </div>

          <div class="text-center mt-4">
            <a href="/" class="btn btn-primary">
              <i class="fa-solid fa-arrow-left me-1"></i> Back to Home
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer />
</Layout>
